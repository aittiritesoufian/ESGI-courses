package compte;

public class Compte {

	private String nom;
	private int numCompte;
	private int solde;
	private int decouvertMax;
	private int debitMax;
	private String releveComtpe;

	public Compte(String nom, int numCompte) {
		super();
		this.nom = nom;
		this.numCompte = numCompte;
		this.solde = 0;
		this.decouvertMax = 800;
		this.debitMax = 1000;
	}

	public Compte(String nom, int numCompte, int solde, int montantDecouvertMax, int montantDebitMax) {
		super();
		this.nom = nom;
		this.numCompte = numCompte;
		this.solde = solde;
		this.decouvertMax = montantDecouvertMax;
		this.debitMax = montantDebitMax;
	}

	public String getNom() {
		return nom;
	}

	public void setNom(String nom) {
		this.nom = nom;
	}

	public int getNumCompte() {
		return numCompte;
	}

	public void setNumCompte(int numCompte) {
		this.numCompte = numCompte;
	}

	public int getSolde() {
		return solde;
	}

	public void setSolde(int solde) {
		this.solde = solde;
	}

	public int getDecouvertMax() {
		return decouvertMax;
	}

	public void setDecouvertMax(int decouvertMax) {
		this.decouvertMax = decouvertMax;
	}

	public int getDebitMax() {
		return debitMax;
	}

	public void setDebitMax(int debitMax) {
		this.debitMax = debitMax;
	}

	public String toString() {
		return "Compte [nom=" + nom + ", numCompte=" + numCompte + ", solde=" + solde + ", montantDecouvertMax="
				+ decouvertMax + ", montantDebitMax=" + debitMax + "] " + this.isDecouvert();
	}

	public String isDecouvert() {
		if (this.getSolde() < 0) {
			return "Le compte est à découvert de " + this.solde;
		}
		return "";
	}

	public void crediter(int val) {
		if (val > 0) {
			this.setSolde(this.getSolde() + val);
		}
	}

	public boolean debiter(int val) {
		if (val > 0) {
			if ((int)(0-this.getDecouvertMax()) <= (this.getSolde() - val)) {
				if (val <= this.getDebitMax()) {
					this.setSolde(this.getSolde()-val);
					return true;
				}
			}
		}
		return false;
	}

	public boolean virementVers(int somme, Compte c) {
		if (this.debiter(somme)) {
			c.crediter(somme);
			return true;
		}
		return false;
	}

}
